"""
Autonomous Car Locator

This is a program that helps autonomus cars to find out the location and direction
of other autonomous cars. It is all based on what is provided by the car and from what the car detects.

By David Gameiro

"""

import random


def locator():

    self_car = {
        "speed" : 50, #the speed of the current car
        "compass" : "N", #the direction of the current car 
        "gps" : 36.00000, #the current GPS location of the current car
        "id" : 1423456 #the ID number of the car
    }

    car1 = {
        "speed" : 45, #Speed of car1
        "compass" : "N", #Direction of car1
        "gps" : 36.01836, #GPS of car1
        "id" : 1423414 #the ID number of the car
    }

    sensor = ["front", "right", "rear", "left"] #4 available sensors on the car, on all 4 sides
    position = random.choice(sensor) #where is the other car located relative to yours
    

    def info_input(): #this is to gather the speed and compass direction of your car and the other car

        print("YOUR CAR") 
        speed = speed_type()
        self_car["speed"] = speed
        print("The current speed of your car is " + str(self_car["speed"]) + "mph\n")

        compass = compass_type()
        self_car["compass"] = compass
        print("The current direction of your car is " + self_car["compass"] + "\n")

        print("CAR 1")
        speed = speed_type()
        car1["speed"] = speed
        print("The current speed of Car 1 is " + str(car1["speed"]) + "mph\n")

        print("Both cars can only be traveling the same or opposite directions.")
        print("Please only choose the same direction or the opposite on.")
        compass = compass_type()
        car1["compass"] = compass
        print("The current direction of Car 1 is " + car1["compass"] + "\n")


    def speed_type(): #if the input for the speed is not a number then it keeps asking for the speed
        val_type = "str"
        while val_type != "int":
            speed = input("What is the speed of the car? ")
            val_type = check_user_input(speed)
        speed = int(speed)
        return speed


    def compass_type(): #if the input for the compass direction is not a number then it keeps asking
        while True: #This loop through until an input is given that is one of the options
            val_type = "int"
            while val_type != "str":
                compass = input("What is the direction that the car is traveling? [N], [S], [E}, [W] ")
                val_type = check_user_input(compass)
            compass = compass.upper()
            if compass == "N" or compass == "S" or compass == "E" or compass == "W":
                break #this verfies that the input is only as specifed, and then ends the loop, if not it continues
            else:
                continue
        return compass


    def speed_compare():
        relative_speed = "faster" #the relative speed your car is going compared to other cars
        if self_car["speed"] > car1["speed"]:
            print("Your car is going faster than Car 1")
            relative_speed = "faster"
        elif self_car["speed"] < car1["speed"]:
            print("Your car is going slower than Car 1")
            relative_speed = "slower"
        else:
            print("Your car is going the same speed as Car 1")
            relative_speed = "same"
        return relative_speed


    def compass(): #used to compare the traveling direction of the two cars
        if self_car["compass"] == car1["compass"]:
            print("You and Car 1 are both going the same direction")
            direction = "same" 
        elif self_car["compass"] == "N" and car1["compass"] == "S":
            print("You and Car 1 are both going the opposite direction")
            direction = "opposite"
        elif self_car["compass"] == "E" and car1["compass"] == "W":
            print("You and Car 1 are both going the opposite direction")
            direction = "opposite"
        elif self_car["compass"] == "S" and car1["compass"] == "N":
            print("You and Car 1 are both going the opposite direction")
            direction = "opposite"
        elif self_car["compass"] == "W" and car1["compass"] == "E":
            print("You and Car 1 are both going the opposite direction")
            direction = "opposite"
        return direction

        
    def check_user_input(input):
        try:
            # Convert it into integer
            val = int(input)
            val_type="int"
        except ValueError:
            try:
                # Convert it into float
                val = float(input)
                val_type = "float"
            except ValueError:
                val_type = "str"
        return val_type
    

    def sensors(): #Which sensors are being triggered on your car, or where is the car is in relation to you
        if position == "front":
            print("The car is in front of your car")
        elif position == "right":
            print("The car is to the right of your car")
        elif position == "left":
            print("The car is to the left of your car")
        else:
            print("The car is behind your car")
        return position

    info_input()
    direction = compass()
    relative_speed = speed_compare()

    def visual_before(): #displays what the current layout of the road is
        print("\nCURRENT ROAD LAYOUT")
        if direction == "same" and position == "front":
            print("|   |   ||   |   |")
            print("|   |   ||   | 1 |")
            print("|   |   || Y |   |")
            print("|   |   ||   |   |")
        elif direction == "same" and position == "rear":
            print("|   |   ||   |   |")
            print("|   |   ||   | Y |")
            print("|   |   || 1 |   |")
            print("|   |   ||   |   |")
        elif direction == "same" and position == "right":
            print("|   |   ||   |   |")
            print("|   |   ||   |   |")
            print("|   |   || Y | 1 |")
            print("|   |   ||   |   |")
        elif direction == "same" and position == "left":
            print("|   |   ||   |   |")
            print("|   |   ||   |   |")
            print("|   |   || 1 | Y |")
            print("|   |   ||   |   |")
        elif direction == "opposite":
            print("|   |   ||   |   |")
            print("|   | 1 ||   |   |")
            print("|   |   || Y |   |")
            print("|   |   ||   |   |")


    def prediction(): #if the same conditions continue then this will be the predicted road layout
        print("\nPREDICTED FUTURE LAYOUT")
        if direction == "same" and (relative_speed == "same" or relative_speed == "slower") and position == "front":
            print("The other car will remain in front of you.")
            print("|   |   ||   |   |")
            print("|   |   ||   | 1 |")
            print("|   |   || Y |   |")
            print("|   |   ||   |   |")
        elif direction == "same" and (relative_speed == "same" or relative_speed == "faster") and position == "rear":
            print("The other car will remain behind you.")
            print("|   |   ||   |   |")
            print("|   |   ||   | Y |")
            print("|   |   || 1 |   |")
            print("|   |   ||   |   |")
        elif direction == "same" and relative_speed == "same" and position == "right":
            print("The other car will remain to the right of you.")
            print("|   |   ||   |   |")
            print("|   |   ||   |   |")
            print("|   |   || Y | 1 |")
            print("|   |   ||   |   |")
        elif direction == "same" and relative_speed == "same" and position == "left":
            print("The other car will remain to the left of you.")
            print("|   |   ||   |   |")
            print("|   |   ||   |   |")
            print("|   |   || 1 | Y |")
            print("|   |   ||   |   |")
        elif direction == "same" and relative_speed == "faster" and position == "front":
            print("You will pass the other car and be in front of them.")
            print("|   |   ||   |   |")
            print("|   |   || Y |   |")
            print("|   |   ||   | 1 |")
            print("|   |   ||   |   |")
        elif direction == "same" and relative_speed == "faster" and position == "left":
            print("You will pass the other car and be in front of them.")
            print("|   |   ||   |   |")
            print("|   |   ||   | Y |")
            print("|   |   || 1 |   |")
            print("|   |   ||   |   |")
        elif direction == "same" and relative_speed == "faster" and position == "right":
            print("You will pass the other car and be in front of them.")
            print("|   |   ||   |   |")
            print("|   |   || Y |   |")
            print("|   |   ||   | 1 |")
            print("|   |   ||   |   |")
        elif direction == "opposite":
            print("The other car will be behind you.")
            print("|   |   ||   |   |")
            print("|   |   || Y |   |")
            print("|   | 1 ||   |   |")
            print("|   |   ||   |   |")    

    visual_before()
    prediction()
         
locator()
